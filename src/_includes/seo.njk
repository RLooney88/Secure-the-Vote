{# SEO Meta Tags Component #}
{% set pageTitle = title or seo.defaultTitle %}
{% set pageDescription = description or seo.siteDescription %}
{% set pageUrl = seo.siteUrl + (page.url or '/') %}
{% set pageImage = image or seo.defaultImage %}
{% set pageKeywords = keywords or seo.keywords %}
{% set canonical = canonicalUrl or pageUrl %}

{# Basic Meta Tags #}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

{# Primary Meta Tags #}
<title>{% if title %}{{ title }} - {{ seo.siteName }}{% else %}{{ seo.defaultTitle }}{% endif %}</title>
<meta name="title" content="{{ pageTitle }}">
<meta name="description" content="{{ pageDescription }}">
<meta name="keywords" content="{% if keywords %}{{ keywords }}{% else %}{{ seo.keywords | join(', ') }}{% endif %}">
<meta name="author" content="{{ seo.author }}">

{# Canonical URL #}
<link rel="canonical" href="{{ canonical }}">

{# Robots Meta #}
<meta name="robots" content="{% if robots %}{{ robots }}{% else %}index, follow{% endif %}">
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

{# Open Graph / Facebook #}
<meta property="og:type" content="{{ ogType or 'website' }}">
<meta property="og:url" content="{{ pageUrl }}">
<meta property="og:title" content="{{ pageTitle }}">
<meta property="og:description" content="{{ pageDescription }}">
<meta property="og:image" content="{{ seo.siteUrl }}{{ pageImage }}">
<meta property="og:image:width" content="{{ seo.imageWidth }}">
<meta property="og:image:height" content="{{ seo.imageHeight }}">
<meta property="og:site_name" content="{{ seo.siteName }}">
<meta property="og:locale" content="{{ seo.locale }}">

{# Twitter Card #}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="{{ pageUrl }}">
<meta name="twitter:title" content="{{ pageTitle }}">
<meta name="twitter:description" content="{{ pageDescription }}">
<meta name="twitter:image" content="{{ seo.siteUrl }}{{ pageImage }}">
{% if seo.social.twitter %}<meta name="twitter:site" content="{{ seo.social.twitter }}">{% endif %}
{% if seo.social.twitter %}<meta name="twitter:creator" content="{{ seo.social.twitter }}">{% endif %}

{# Additional Meta Tags #}
<meta name="theme-color" content="#1a365d">
<meta name="msapplication-TileColor" content="#1a365d">

{# Language and Region #}
<meta http-equiv="content-language" content="en-US">
<meta name="geo.region" content="US-MD">
<meta name="geo.placename" content="Maryland">

{# Article-specific tags (if it's an article/news) #}
{% if ogType == 'article' %}
<meta property="article:published_time" content="{{ date or page.date | htmlDateString }}">
<meta property="article:author" content="{{ author or seo.author }}">
<meta property="article:section" content="{{ section or 'News' }}">
{% if tags %}
  {% for tag in tags %}
<meta property="article:tag" content="{{ tag }}">
  {% endfor %}
{% endif %}
{% endif %}
